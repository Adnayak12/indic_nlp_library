

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>indicnlp.normalize.indic_normalize &mdash; Indic NLP Library 0.2 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Indic NLP Library 0.2 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Indic NLP Library 0.2 documentation</a> &raquo;</li>
          <li><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for indicnlp.normalize.indic_normalize</h1><div class="highlight"><pre>
<span class="c"># Copyright Anoop Kunchukuttan 2013 - present</span>
<span class="c">#</span>
<span class="c"># This file is part of Indic NLP Library.</span>
<span class="c"># </span>
<span class="c"># Indic NLP Library is free software: you can redistribute it and/or modify</span>
<span class="c"># it under the terms of the GNU General Public License as published by</span>
<span class="c"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c"># (at your option) any later version.</span>
<span class="c"># </span>
<span class="c"># Indic NLP Library is distributed in the hope that it will be useful,</span>
<span class="c">#        but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c">#        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c">#        GNU General Public License for more details.</span>
<span class="c"># </span>
<span class="c">#        You should have received a copy of the GNU General Public License</span>
<span class="c">#        along with Indic NLP Library.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c">#</span>

<span class="c">#Program for normalization of text written in Unicode. This is mainly geared towards Indic scripts </span>
<span class="c">#</span>
<span class="c"># @author Anoop Kunchukuttan </span>
<span class="c">#</span>

<span class="kn">import</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">codecs</span><span class="o">,</span> <span class="nn">string</span><span class="o">,</span> <span class="nn">itertools</span><span class="o">,</span> <span class="nn">re</span>

<div class="viewcode-block" id="NormalizerI"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.NormalizerI">[docs]</a><span class="k">class</span> <span class="nc">NormalizerI</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for normalizer. Performs some common normalization, which includes: </span>
<span class="sd">        - Byte order mark, word joiner, etc. removal </span>
<span class="sd">        - ZERO_WIDTH_NON_JOINER and ZERO_WIDTH_JOINER removal </span>
<span class="sd">        - ZERO_WIDTH_SPACE and NO_BREAK_SPACE replaced by spaces </span>

<span class="sd">    Script specific normalizers should derive from this class and override the normalize() method. </span>
<span class="sd">    They can call the super class &#39;normalize() method to avail of the common normalization </span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">BYTE_ORDER_MARK</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\uFEFF</span><span class="s">&#39;</span>
    <span class="n">BYTE_ORDER_MARK_2</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\uFFFE</span><span class="s">&#39;</span>
    <span class="n">WORD_JOINER</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u2060</span><span class="s">&#39;</span>
    <span class="n">SOFT_HYPHEN</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u00AD</span><span class="s">&#39;</span>

    <span class="n">ZERO_WIDTH_SPACE</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u200B</span><span class="s">&#39;</span>
    <span class="n">NO_BREAK_SPACE</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u00A0</span><span class="s">&#39;</span>

    <span class="n">ZERO_WIDTH_NON_JOINER</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u200C</span><span class="s">&#39;</span>
    <span class="n">ZERO_WIDTH_JOINER</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u200D</span><span class="s">&#39;</span>

<div class="viewcode-block" id="NormalizerI.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.NormalizerI.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to be implemented for normalization for each script </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">BYTE_ORDER_MARK</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">BYTE_ORDER_MARK_2</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">WORD_JOINER</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">SOFT_HYPHEN</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">ZERO_WIDTH_SPACE</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">)</span> <span class="c"># ??</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">NO_BREAK_SPACE</span><span class="p">,</span><span class="s">&#39; &#39;</span><span class="p">)</span>

        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">ZERO_WIDTH_NON_JOINER</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">ZERO_WIDTH_JOINER</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>
</div>
<div class="viewcode-block" id="NormalizerI.get_char_stats"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.NormalizerI.get_char_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_char_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span>    
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">BYTE_ORDER_MARK</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">BYTE_ORDER_MARK_2</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">WORD_JOINER</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">SOFT_HYPHEN</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>

        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">ZERO_WIDTH_SPACE</span><span class="p">,</span><span class="n">text</span><span class="p">)</span> <span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">NO_BREAK_SPACE</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>

        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">ZERO_WIDTH_NON_JOINER</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">NormalizerI</span><span class="o">.</span><span class="n">ZERO_WIDTH_JOINER</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>

        <span class="c">#for mobj in re.finditer(NormalizerI.ZERO_WIDTH_NON_JOINER,text):</span>
        <span class="c">#    print text[mobj.start()-10:mobj.end()+10].replace(&#39;\n&#39;, &#39; &#39;).replace(NormalizerI.ZERO_WIDTH_NON_JOINER,&#39;&#39;).encode(&#39;utf-8&#39;)</span>
        <span class="c">#print hex(ord(text[mobj.end():mobj.end()+1]))</span>
</div>
<div class="viewcode-block" id="NormalizerI.correct_visarga"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.NormalizerI.correct_visarga">[docs]</a>    <span class="k">def</span> <span class="nf">correct_visarga</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">visarga_char</span><span class="p">,</span><span class="n">char_range</span><span class="p">):</span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0900-\u097f]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0903</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>
        

</div></div>
<div class="viewcode-block" id="DevanagariNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.DevanagariNormalizer">[docs]</a><span class="k">class</span> <span class="nc">DevanagariNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Devanagari script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replaces the composite characters containing nuktas by their decomposed form </span>
<span class="sd">    - replace pipe character &#39;|&#39; by poorna virama character</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NUKTA</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u093C</span><span class="s">&#39;</span> 

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="n">remove_nuktas</span>

<div class="viewcode-block" id="DevanagariNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.DevanagariNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">DevanagariNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># decomposing Nukta based composite characters</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0929</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0928</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0931</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0930</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0934</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0933</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0958</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0915</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0959</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0916</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095A</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0917</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095B</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u091C</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095C</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0921</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095D</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0922</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095E</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u092B</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095F</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u092F</span><span class="s">&#39;</span><span class="o">+</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="p">:</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">DevanagariNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="c"># replace pipe character for poorna virama </span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u007c</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0900-\u097f]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0903</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>
</div>
<div class="viewcode-block" id="DevanagariNormalizer.get_char_stats"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.DevanagariNormalizer.get_char_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_char_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DevanagariNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_char_stats</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0929</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0931</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0934</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0958</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0959</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095A</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095B</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095C</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095D</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095E</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u095F</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)))</span>

        <span class="c">#print(len(re.findall(u&#39;\u0928&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0930&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0933&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0915&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0916&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0917&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u091C&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0921&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u0922&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u092B&#39;+DevanagariNormalizer.NUKTA,text)))</span>
        <span class="c">#print(len(re.findall(u&#39;\u092F&#39;+DevanagariNormalizer.NUKTA,text)))</span>

        <span class="c">#print(u&#39;\u0929&#39;)</span>
        <span class="c">#print(u&#39;\u0931&#39;)</span>
        <span class="c">#print(u&#39;\u0934&#39;)</span>
        <span class="c">#print(u&#39;\u0958&#39;)</span>
        <span class="c">#print(u&#39;\u0959&#39;)</span>
        <span class="c">#print(u&#39;\u095A&#39;)</span>
        <span class="c">#print(u&#39;\u095B&#39;)</span>
        <span class="c">#print(u&#39;\u095C&#39;)</span>
        <span class="c">#print(u&#39;\u095D&#39;)</span>
        <span class="c">#print(u&#39;\u095E&#39;)</span>
        <span class="c">#print(u&#39;\u095F&#39;)</span>
</div></div>
<div class="viewcode-block" id="GurmukhiNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.GurmukhiNormalizer">[docs]</a><span class="k">class</span> <span class="nc">GurmukhiNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Gurmukhi script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replaces the composite characters containing nuktas by their decomposed form </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - replace pipe character &#39;|&#39; by poorna virama character</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NUKTA</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u0A3C</span><span class="s">&#39;</span> 

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="n">remove_nuktas</span>

<div class="viewcode-block" id="GurmukhiNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.GurmukhiNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">GurmukhiNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># decomposing Nukta based composite characters</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a33</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0a32</span><span class="s">&#39;</span><span class="o">+</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a36</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0a38</span><span class="s">&#39;</span><span class="o">+</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a59</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0a16</span><span class="s">&#39;</span><span class="o">+</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a5a</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0a17</span><span class="s">&#39;</span><span class="o">+</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a5b</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0a1c</span><span class="s">&#39;</span><span class="o">+</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a5e</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0a2b</span><span class="s">&#39;</span><span class="o">+</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="p">:</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">GurmukhiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>

        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a64</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0a65</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c">## replace pipe character for poorna virama </span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u007c</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0a00-\u0a7f]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0a03</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="GujaratiNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.GujaratiNormalizer">[docs]</a><span class="k">class</span> <span class="nc">GujaratiNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Gujarati script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NUKTA</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u0ABC</span><span class="s">&#39;</span> 

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="n">remove_nuktas</span>

<div class="viewcode-block" id="GujaratiNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.GujaratiNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">GujaratiNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># decomposing Nukta based composite characters</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="p">:</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">GujaratiNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>


        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0ae4</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0ae5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0a80-\u0aff]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0a83</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="OriyaNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.OriyaNormalizer">[docs]</a><span class="k">class</span> <span class="nc">OriyaNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Oriya script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replaces the composite characters containing nuktas by their decomposed form </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - Canonicalize two part dependent vowels</span>
<span class="sd">    - Replace &#39;va&#39; with &#39;ba&#39;</span>
<span class="sd">    - replace pipe character &#39;|&#39; by poorna virama character</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NUKTA</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u0B3C</span><span class="s">&#39;</span> 

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="n">remove_nuktas</span>

<div class="viewcode-block" id="OriyaNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.OriyaNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">OriyaNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># decomposing Nukta based composite characters</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b5c</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b21</span><span class="s">&#39;</span><span class="o">+</span><span class="n">OriyaNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b5d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b22</span><span class="s">&#39;</span><span class="o">+</span><span class="n">OriyaNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="p">:</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">OriyaNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>


        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b64</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b65</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># replace pipe character for poorna virama </span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u007c</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># replace va with ba </span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b35</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b2c</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># AI dependent vowel sign </span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b47\u0b56</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b58</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># two part dependent vowels</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b47\u0b3e</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b4b</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b47\u0b57</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b4c</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># additional consonant - not clear how to handle this</span>
        <span class="c"># ignore</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0b00-\u0b7f]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0b03</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="BengaliNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.BengaliNormalizer">[docs]</a><span class="k">class</span> <span class="nc">BengaliNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Bengali script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replaces the composite characters containing nuktas by their decomposed form </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - Canonicalize two part dependent vowels</span>
<span class="sd">    - replace pipe character &#39;|&#39; by poorna virama character</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">NUKTA</span><span class="o">=</span><span class="s">u&#39;</span><span class="se">\u09BC</span><span class="s">&#39;</span> 

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="n">remove_nuktas</span>

<div class="viewcode-block" id="BengaliNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.BengaliNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">BengaliNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># decomposing Nukta based composite characters</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09dc</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u09a1</span><span class="s">&#39;</span><span class="o">+</span><span class="n">BengaliNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09dd</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u09a2</span><span class="s">&#39;</span><span class="o">+</span><span class="n">BengaliNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09df</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u09af</span><span class="s">&#39;</span><span class="o">+</span><span class="n">BengaliNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="p">:</span>
            <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">BengaliNormalizer</span><span class="o">.</span><span class="n">NUKTA</span><span class="p">,</span><span class="s">&#39;&#39;</span><span class="p">)</span>


        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09e4</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09e5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># replace pipe character for poorna virama </span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u007c</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># two part dependent vowels</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09c7\u09be</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u09cb</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u09c7\u0bd7</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0bcc</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0980-\u09ff]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0983</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="TamilNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.TamilNormalizer">[docs]</a><span class="k">class</span> <span class="nc">TamilNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Tamil script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - canonicalize two-part dependent vowel signs</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TamilNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.TamilNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">TamilNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0be4</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0be5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># two part dependent vowels</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0b92\u0bd7</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0b94</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0bc6\u0bbe</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0bca</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0bc7\u0bbe</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0bcb</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0bc6\u0bd7</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0bcc</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0b80-\u0bff]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0b83</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="TeluguNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.TeluguNormalizer">[docs]</a><span class="k">class</span> <span class="nc">TeluguNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Teluguscript. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - canonicalize two-part dependent vowel signs</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="n">remove_nuktas</span>

<div class="viewcode-block" id="TeluguNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.TeluguNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">TeluguNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0c64</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0c65</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># dependent vowels</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0c46\u0c56</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0c48</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0c00-\u0c7f]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0c03</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>
</div>
<div class="viewcode-block" id="TeluguNormalizer.get_char_stats"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.TeluguNormalizer.get_char_stats">[docs]</a>    <span class="k">def</span> <span class="nf">get_char_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span>
        <span class="k">pass</span> 
</div></div>
<div class="viewcode-block" id="KannadaNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.KannadaNormalizer">[docs]</a><span class="k">class</span> <span class="nc">KannadaNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Kannada script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - canonicalize two-part dependent vowel signs</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="KannadaNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.KannadaNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">KannadaNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0ce4</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0ce5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># dependent vowels</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0cbf\u0cd5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0cc0</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0cc6\u0cd5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0cc7</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0cc6\u0cd6</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0cc8</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0cc6\u0cc2</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0cca</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0cca\u0cd5</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0ccb</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0c80-\u0cff]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0c83</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="MalayalamNormalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.MalayalamNormalizer">[docs]</a><span class="k">class</span> <span class="nc">MalayalamNormalizer</span><span class="p">(</span><span class="n">NormalizerI</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Normalizer for the Malayalam script. In addition to basic normalization by the super class, </span>
<span class="sd">    - Replace the reserved character for poorna virama (if used) with the </span>
<span class="sd">    recommended generic Indic scripts poorna virama </span>
<span class="sd">    - canonicalize two-part dependent vowel signs</span>
<span class="sd">    - Change from old encoding of chillus (till Unicode 5.0) to new encoding</span>
<span class="sd">    - replace colon &#39;:&#39; by visarga if the colon follows a charcter in this script </span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MalayalamNormalizer.normalize"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.MalayalamNormalizer.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">text</span><span class="p">):</span> 

        <span class="c"># Change from old encoding of chillus (till Unicode 5.0) to new encoding</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d23\u0d4d\u200d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d7a</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d28\u0d4d\u200d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d7b</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d30\u0d4d\u200d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d7c</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d32\u0d4d\u200d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d7d</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d33\u0d4d\u200d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d7e</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d15\u0d4d\u200d</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d7f</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># common normalization for Indic scripts </span>
        <span class="n">text</span><span class="o">=</span><span class="nb">super</span><span class="p">(</span><span class="n">MalayalamNormalizer</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

        <span class="c"># replace the poorna virama codes specific to script </span>
        <span class="c"># with generic Indic script codes</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d64</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0964</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d65</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0965</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># dependent vowels</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d46\u0d3e</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d4a</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d47\u0d3e</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d4b</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># au forms</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d46\u0d57</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d57</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">u&#39;</span><span class="se">\u0d57</span><span class="s">&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\u0d4c</span><span class="s">&#39;</span><span class="p">)</span>

        <span class="c"># correct visarge </span>
        <span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">ur&#39;([\u0d00-\u0d7f]):&#39;</span><span class="p">,</span><span class="s">u&#39;</span><span class="se">\\</span><span class="s">1</span><span class="se">\u0d03</span><span class="s">&#39;</span><span class="p">,</span><span class="n">text</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">text</span>

</div></div>
<div class="viewcode-block" id="IndicNormalizerFactory"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.IndicNormalizerFactory">[docs]</a><span class="k">class</span> <span class="nc">IndicNormalizerFactory</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<div class="viewcode-block" id="IndicNormalizerFactory.get_normalizer"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.IndicNormalizerFactory.get_normalizer">[docs]</a>    <span class="k">def</span> <span class="nf">get_normalizer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">language</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">normalizer</span><span class="o">=</span><span class="bp">None</span>
        <span class="k">if</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;hi&#39;</span><span class="p">,</span><span class="s">&#39;mr&#39;</span><span class="p">,</span><span class="s">&#39;sa&#39;</span><span class="p">,</span><span class="s">&#39;kK&#39;</span><span class="p">,</span><span class="s">&#39;ne&#39;</span><span class="p">,</span><span class="s">&#39;sd&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">DevanagariNormalizer</span><span class="p">(</span><span class="n">remove_nuktas</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;pa&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">GurmukhiNormalizer</span><span class="p">(</span><span class="n">remove_nuktas</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;gu&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">GujaratiNormalizer</span><span class="p">(</span><span class="n">remove_nuktas</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;bn&#39;</span><span class="p">,</span><span class="s">&#39;as&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">BengaliNormalizer</span><span class="p">(</span><span class="n">remove_nuktas</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;or&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">OriyaNormalizer</span><span class="p">(</span><span class="n">remove_nuktas</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;ml&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">MalayalamNormalizer</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;kn&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">KannadaNormalizer</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;ta&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">TamilNormalizer</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;te&#39;</span><span class="p">]:</span>
            <span class="n">normalizer</span><span class="o">=</span><span class="n">TeluguNormalizer</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>    
            <span class="n">normalizer</span><span class="o">=</span><span class="n">NormalizerI</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">normalizer</span>    
</div>
<div class="viewcode-block" id="IndicNormalizerFactory.is_language_supported"><a class="viewcode-back" href="../../../indicnlp.normalize.html#indicnlp.normalize.indic_normalize.IndicNormalizerFactory.is_language_supported">[docs]</a>    <span class="k">def</span> <span class="nf">is_language_supported</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">language</span><span class="p">):</span> 
        <span class="k">if</span> <span class="n">language</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&#39;hi&#39;</span><span class="p">,</span><span class="s">&#39;mr&#39;</span><span class="p">,</span><span class="s">&#39;sa&#39;</span><span class="p">,</span><span class="s">&#39;kK&#39;</span><span class="p">,</span><span class="s">&#39;ne&#39;</span><span class="p">,</span>
                        <span class="s">&#39;pa&#39;</span><span class="p">,</span>
                        <span class="s">&#39;gu&#39;</span><span class="p">,</span>
                        <span class="s">&#39;bn&#39;</span><span class="p">,</span><span class="s">&#39;as&#39;</span><span class="p">,</span>
                        <span class="s">&#39;or&#39;</span><span class="p">,</span>
                        <span class="s">&#39;ml&#39;</span><span class="p">,</span>
                        <span class="s">&#39;kn&#39;</span><span class="p">,</span>
                        <span class="s">&#39;ta&#39;</span><span class="p">,</span>
                        <span class="s">&#39;te&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span> 

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;Usage: python normalize.py &lt;infile&gt; &lt;outfile&gt; &lt;language&gt; [&lt;replace_nukta(True,False&gt;]&quot;</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">language</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">remove_nuktas</span><span class="o">=</span><span class="bp">False</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">5</span><span class="p">:</span>
        <span class="n">remove_nuktas</span><span class="o">=</span><span class="nb">bool</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>

    <span class="c"># create normalizer</span>
    <span class="n">factory</span><span class="o">=</span><span class="n">IndicNormalizerFactory</span><span class="p">()</span>
    <span class="n">normalizer</span><span class="o">=</span><span class="n">factory</span><span class="o">.</span><span class="n">get_normalizer</span><span class="p">(</span><span class="n">language</span><span class="p">,</span><span class="n">remove_nuktas</span><span class="p">)</span>

    <span class="c"># DO normalization </span>
    <span class="k">with</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&#39;r&#39;</span><span class="p">,</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ifile</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="s">&#39;w&#39;</span><span class="p">,</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ofile</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ifile</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
                <span class="n">normalized_line</span><span class="o">=</span><span class="n">normalizer</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
                <span class="n">ofile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">normalized_line</span><span class="p">)</span>
   
    <span class="c">## gather status about normalization </span>
    <span class="c">#with codecs.open(sys.argv[1],&#39;r&#39;,&#39;utf-8&#39;) as ifile:</span>
    <span class="c">#    normalizer=DevanagariNormalizer()</span>
    <span class="c">#    text=string.join(ifile.readlines(),sep=&#39;&#39;)</span>
    <span class="c">#    normalizer.get_char_stats(text)</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">Indic NLP Library 0.2 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Anoop Kunchukuttan.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>